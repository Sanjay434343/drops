<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Management</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h1>Add a New Product</h1>
    <form id="productForm">
      <label for="productName">Product Name:</label>
      <input type="text" id="productName" required><br><br>
      
      <label for="productPrice">Product Price:</label>
      <input type="number" id="productPrice" required><br><br>
      
      <label for="tagSelect">Select Tag:</label>
      <select id="tagSelect" multiple>
        <option value="sale">Sale</option>
        <option value="out-of-stock">Out of Stock</option>
        <option value="new">New</option>
      </select><br><br>
      
      <label for="imageUrl">Image URL:</label>
      <input type="url" id="imageUrl" placeholder="Enter image URL"><br><br>
      
      <button type="submit">Add Product</button>
    </form>
  </div>

  <!-- Include Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-database-compat.js"></script>

 <script>
    // Initialize Firebase
const firebaseConfig = {
    apiKey: "AIzaSyC3WxZBaNJoZA2p7oe6ihTJCFOE6Y0U_7Q",
    authDomain: "dropshipping-98eb5.firebaseapp.com",
    projectId: "dropshipping-98eb5",
    storageBucket: "dropshipping-98eb5.appspot.com",
    messagingSenderId: "904925867242",
    appId: "1:904925867242:web:af0abda866826e92f8fb93",
    measurementId: "G-BVZR8HY1SR"
  };

  
  firebase.initializeApp(firebaseConfig);
  
  // Reference to your Firebase database
  const database = firebase.database();
  
  // Form submission handling
  const productForm = document.getElementById('productForm');
  
  productForm.addEventListener('submit', function(event) {
    event.preventDefault();
  
    const productName = document.getElementById('productName').value;
    const productPrice = document.getElementById('productPrice').value;
    const imageUrl = document.getElementById('imageUrl').value;
  
    // Get selected tag
    const tagSelect = document.getElementById('tagSelect');
    let selectedTag = "";
    for (let i = 0; i < tagSelect.options.length; i++) {
      if (tagSelect.options[i].selected) {
        selectedTag = tagSelect.options[i].value.replace("-", "_"); // Replace hyphens with underscores for Firebase compatibility
        break;
      }
    }
  
    // Push the new product to Firebase database under 'products' node
    const newProductRef = database.ref('products').push();
    newProductRef.set({
      name: productName,
      price: productPrice,
      imageUrl: imageUrl,
      tag: selectedTag // Store selected tag directly as a property
    })
    .then(() => {
      console.log("Product added successfully to Firebase!");
      // Clear the form fields
      productForm.reset();
    })
    .catch((error) => {
      console.error("Error adding product to Firebase:", error);
    });
  });
  
 </script>
</body>
</html>
